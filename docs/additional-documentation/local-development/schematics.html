<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>moh-common-lib</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../../images/favicon.ico">
	      <link rel="stylesheet" href="../../styles/style.css">
        <link rel="stylesheet" href="../../styles/stripe.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../../" class="navbar-brand">moh-common-lib</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content additional-page">
                   <div class="content-data">


















<h1 id="schematics">Schematics</h1>
<p>This file will help you get setup with building and running schematics. This is not necessary for publishing NPM builds of components, but is relevant if you wish to use these schematics for code-generation.</p>
<h2 id="writing-code--compiling-changes">Writing code &amp; compiling changes</h2>
<p>Make sure to write all changes to .ts files, e.g. <code>index.ts</code>.   The schematics folder, and all schemtaics, must be in <code>projects/common/schematics</code></p>
<div><pre class="line-numbers"><code class="language-none">    npm run build # compiles one time - must be run in schematics folder
    npm run build -- -w # watches for changes and re-compiles - in schematics folder
    npm run build:schematics # helper command - can be run anywhere in project, even top level</code></pre></div><p>Then use the above to compile to .d.ts, .js, and .map.js files. It&#39;s important to compile the files before running any schematics either locally or before publishing to npm, etc. </p>
<p>Unsure: Potentially you may need to run <code>npm install</code> prior to your first build.</p>
<h4 id="linking-schematics">Linking Schematics</h4>
<p>Linking schematics only has to be done once. You&#39;ll only have to do it again if you move this folder.</p>
<p>We have to link from the <code>projects/common/schematics</code> folder. You can tell it&#39;s the correct folder because it has <code>package.json</code> in it.</p>
<div><pre class="line-numbers"><code class="language-none">    cd moh-common-styles/projects/common/schematics
    npm link # creates moh-common-schematics link, name from package.json</code></pre></div><h4 id="creating-a-new-project-and-running-schematics">Creating a new project and running schematics</h4>
<div><pre class="line-numbers"><code class="language-none">    ng new example --style=scss --routing=true // both params required
    npm link moh-common-schematics # creates a symlink to the schematics folder above
    ng g moh-common-schematics:moh-start # runs the schematic</code></pre></div><h4 id="creating-a-new-schematic">Creating a new schematic</h4>
<p>First, you must make sure the schematics-cli is installed on your machine.</p>
<div><pre class="line-numbers"><code class="language-none">    npm install -g &#64;angular-devkit/schematics-cli</code></pre></div><p>To create a new schematic, make sure to run the command from the right folder.  It should be in the same folder as the <code>moh-common-schematics</code> package.json. <code>projects/common/schematics</code></p>
<div><pre class="line-numbers"><code class="language-none">    cd projects/common/schematics
    schematics blank  --name=schematic-name-example</code></pre></div><h1 id="todo">TODO</h1>
<ul>
<li><input checked="" disabled="" type="checkbox"> <p>~~<em>*High Priority</em> Fix compilation errors when lodaing moh-common-lib (WizardProgressBar) in moh-start by adding to tsconfig:*~~ [2019-03-06]</p>
<div><pre class="line-numbers"><code class="language-none">  &quot;typeRoots&quot;: [ &quot;../node_modules/&#64;types&quot; ],
  &quot;skipLibCheck&quot;: true</code></pre></div></li>
<li><input checked="" disabled="" type="checkbox"> <p>Making changes to schematic + re-compiling (npm run build + watch command)</p>
</li>
<li><input checked="" disabled="" type="checkbox"> <p>Include integration with upcoming moh-common-styles library</p>
</li>
<li><input checked="" disabled="" type="checkbox"> <p>resolve issue with component viewProviders, ControlContainer + ngForms for &quot;nested&quot; components</p>
</li>
<li><input disabled="" type="checkbox"> <p>uncomment pollyfills.ts</p>
</li>
<li><input disabled="" type="checkbox"> <p>Package.json scripts from fpc (e.g. version, preversion)</p>
</li>
<li><input disabled="" type="checkbox"> <p>Document need for <code>openshift/</code> folder to still be manually setup</p>
</li>
<li><input disabled="" type="checkbox"> <p>Configurable project name, e.g. change page title.</p>
</li>
<li><input disabled="" type="checkbox"> <p>Split moh-start schematic into multiple schematics, de-compose them. Will make path to future &#39;update&#39; calls simpler (update-scss, update-assets, update-dependencies). Moh-start should just call each of them.</p>
</li>
<li><input disabled="" type="checkbox"> <p>Convert moh-start to use templates instead of base64 encoding (like version-js does)</p>
</li>
<li><input disabled="" type="checkbox"> <p>Add momentjs as dependency to package.json</p>
</li>
<li><input disabled="" type="checkbox"> <p>Add NgForm and other modules to appropriate angular modules</p>
</li>
<li><input disabled="" type="checkbox"> <p>angular.json - add preserveSymlinks to new projects</p>
</li>
</ul>

                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 2;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'additional-page';
            var COMPODOC_CURRENT_PAGE_URL = 'schematics.html';
       </script>

       <script src="../../js/libs/custom-elements.min.js"></script>
       <script src="../../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../../js/menu-wc.js" defer></script>

       <script src="../../js/libs/bootstrap-native.js"></script>

       <script src="../../js/libs/es6-shim.min.js"></script>
       <script src="../../js/libs/EventDispatcher.js"></script>
       <script src="../../js/libs/promise.min.js"></script>
       <script src="../../js/libs/zepto.min.js"></script>

       <script src="../../js/compodoc.js"></script>

       <script src="../../js/tabs.js"></script>
       <script src="../../js/menu.js"></script>
       <script src="../../js/libs/clipboard.min.js"></script>
       <script src="../../js/libs/prism.js"></script>
       <script src="../../js/sourceCode.js"></script>
          <script src="../../js/search/search.js"></script>
          <script src="../../js/search/lunr.min.js"></script>
          <script src="../../js/search/search-lunr.js"></script>
          <script src="../../js/search/search_index.js"></script>
       <script src="../../js/lazy-load-graphs.js"></script>


    </body>
</html>
